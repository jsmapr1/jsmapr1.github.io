
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Creating Scrolling Self-Drawing Lines  | Dev</title>

<meta name="author" content="Joe"> 

<meta name="description" content="First of all here&rsquo;s a demo. Scroll inside the codepen to view: See the Pen QjNbgz by Joe Morgan (@jsmapr1) on CodePen. My office recently &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Dev" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">Dev</a></h1>
<h4>The Art of Working With Code(rs)</h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.thejoemorgan.com">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Creating Scrolling Self-Drawing Lines</h2>
	<div class="entry-content"><p>First of all here&rsquo;s a demo. Scroll inside the codepen to view:</p>

<p data-height="268" data-theme-id="0" data-slug-hash="QjNbgz" data-default-tab="result" data-user="jsmapr1" class='codepen'>See the Pen <a href='http://codepen.io/jsmapr1/pen/QjNbgz/'>QjNbgz</a> by Joe Morgan (<a href='http://codepen.io/jsmapr1'>@jsmapr1</a>) on <a href='http://codepen.io'>CodePen</a>.</p>


<script async src="//assets.codepen.io/assets/embed/ei.js"></script>


<p>My office recently designed a campaign to encourage student applications as a deadline neared.
Our goal was to create a very unique and engaging page for potential students and the designers settled on a theme of motion and inertia.
Translating that into an experience on the web was a little more difficult.
We needed something that pulled the viewer along, that interacted with them, but did not try to control the pace.
After taking inspiration from a few sites (<a href="http://pitchfork.com/features/cover-story/reader/streaming/">particularly this one</a>) we created a design that would generate a self drawing line that responded to the user as they scrolled.
When a user scrolled down the page, the line drawing would be built. If they scrolled backwards, it would undo itself.</p>

<p>The concept was simple and effective. It was unique enough to create an experience that would engage the viewer and set us apart from the noise.
The best part was that the JavaScript ended up being surprisingly simple. Here are the steps in brief:</p>

<ol>
<li>Calculate the length of an SVG</li>
<li>Create a dash the length of the SVG (making it appear invisible)</li>
<li>Set a start point and an end point relative to the top and bottom of the svg (could also be relative to another element)</li>
<li>Calculate the distance between the top and the bottom</li>
<li>Calculate the amount of pixels that must be added per pixel of vertical scroll</li>
<li>Attach an method to the scroll event that adds pixels (removes the dash)</li>
</ol>


<p>Not bad, huh?</p>

<h2>Calculate the length of an SVG</h2>

<p>This is actually pretty straight forward. The key is having an SVG that is only a path:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;svg</span>  <span class="na">enable-background=</span><span class="s">&quot;new 0 0 612 792&quot;</span> <span class="na">version=</span><span class="s">&quot;1.1&quot;</span> <span class="na">viewBox=</span><span class="s">&quot;0 0 612 792&quot;</span> <span class="na">x=</span><span class="s">&quot;0px&quot;</span> <span class="na">y=</span><span class="s">&quot;0px&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;path</span> <span class="na">d=</span><span class="s">&quot;M133.7-2.2l157.1,368V792&quot;</span> <span class="na">fill=</span><span class="s">&quot;none&quot;</span>    <span class="na">id=</span><span class="s">&quot;line&quot;</span> <span class="na">stroke=</span><span class="s">&quot;#E11837&quot;</span> <span class="na">stroke-miterlimit=</span><span class="s">&quot;10&quot;</span> <span class="na">stroke-width=</span><span class="s">&quot;2&quot;</span> <span class="nt">&gt;&lt;/path&gt;</span>
</span><span class='line'><span class="nt">&lt;/svg&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now we can easily get the length of the path using a <a href="https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement">path method</a>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">svg</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">();</span>
</span><span class='line'><span class="c1">//826.331</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Create a dash the length of the SVG</h2>

<p>With the length of the path calculated, make dash on the path that is the exact same lenght.
This will make the path invisible:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">path</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">strokeDasharray</span> <span class="o">=</span> <span class="nx">svg</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Set a start point and an end point relative to the top and bottom of the SVG</h2>

<p>The next step is where it gets a little tricky.
There needs to be a starting and a stopping point on the screen to trigger the beginning (or end) of the animation.
This will be determined by calculating the distance of the start point from the top of the page.
To determine this, I used the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRec://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect">getBoundClinetRect method</a>.
This works on any html element and returns a nice object giving the location of the element&rsquo;s bounds <em>relative to the viewPort</em>.</p>

<p>The result looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">path</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
</span><span class='line'><span class="c1">//</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="nx">bottom</span><span class="o">:</span> <span class="mf">2455.22607421875</span>
</span><span class='line'>    <span class="nx">height</span><span class="o">:</span> <span class="mf">1816.79736328125</span>
</span><span class='line'>    <span class="nx">left</span><span class="o">:</span> <span class="mf">215.84967041015625</span>
</span><span class='line'>    <span class="nx">right</span><span class="o">:</span> <span class="mf">575.228759765625</span>
</span><span class='line'>    <span class="nx">top</span><span class="o">:</span> <span class="mf">638.4287109375</span>
</span><span class='line'>    <span class="nx">width</span><span class="o">:</span> <span class="mf">359.3790893554687</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>From that we need to find the absolute position.
To do that, get the top position of the body tag.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">top</span><span class="p">;</span>
</span><span class='line'><span class="c1">//-427</span>
</span></code></pre></td></tr></table></div></figure>


<p>Since this is relative to the view port, it will almost certainly be a negative number.
To get the start point relative to the top of the body, just subtract the top of the body from the top of the element.
From above, this would be 638 - -427. So the start of the element is 1065 pixels from the top of the page.
Now this will all be fine except for that would start the animation when the top of the element is at the top of the viewPort.
The result is that the animation would always be just barely out of view.
That is less than ideal and wouldn&rsquo;t create the desired effect.</p>

<p>The last step is subtracting the distance from the top of the viewPort that we want the effect to start resulting in a start point start point <em>above</em> the top of the SVG.
In other words, if an SVG starts 1000px from the top of the body and the viewport is 100px high (why not) and we want it to start when the top of the SVG is in the middle of the viewport, then the animation <em>really</em> needs to start 950px from the top of the body.
The ability to set the start and stopping point is one of the best ways to control the speed and visual affect of an SVG.
If we want the SVG to coming shooting out of the top of the screen, we can set it to start after the page has past it&rsquo;s starting point (make it a negative number, -2).
If we want the SVG to begin before we hit a visible area, all we need to do is set the start number higher than 1 (1.2) for example.</p>

<p>The end point is pretty much the same, except we get the bottom of the SVG bounding container. Everything else is the same.</p>

<h2>Calculate the distance between the top and the bottom</h2>

<p>With the start and the end points set, the distance is a simple subtraction.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">this</span><span class="p">.</span><span class="nx">verticalDistance</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, we need to be able to recalculate this on the fly.
So we really need to know both the total distance and  the remaining distance.
This can be figured out using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY">window.pageYOffset/window.scrollY</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">\\</span><span class="nx">Defined</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">animate</span> <span class="nx">line</span> <span class="kd">function</span>
</span><span class='line'><span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">pageYOffset</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Scroller</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">distanceRemaining</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Calculate the amount of pixels that must be added per pixel of vertical scroll</h2>

<p>With the SVG length and starting and stopping points established, all that&rsquo;s left is to figure out how much to add reveal as the user scrolls down.
That is easily accomplished with a simple function:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">\\</span> <span class="nx">Add</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">prototype</span>
</span><span class='line'><span class="nx">Scroller</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">pixelsPerVerticalScroll</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">verticalDistance</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">svgLength</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">verticalDistance</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Attach an method to the scroll event that adds pixels (removes the dash)</h2>

<p>Finally, we just need to attach a method to the scroll event so that the line will be continually updated.
It&rsquo;s going to have three parts:</p>

<ol>
<li>If we are before the start point: Show nothing.</li>
<li>If we are after the end poing: Show everything.</li>
<li>If we are between the start and the end point: Show the correct percentage.</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="err">\\</span> <span class="nx">Attach</span> <span class="nx">the</span> <span class="nx">scroll</span> <span class="nx">even</span> <span class="nx">during</span> <span class="nx">the</span> <span class="nx">init</span> <span class="kd">function</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">animateLine</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Scroller</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">animateLine</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">pageYOffset</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">strokeDashoffset</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">svgLength</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">strokeDashoffset</span> <span class="o">=</span> <span class="s1">&#39;0px&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentVisiblePosition</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">strokeDashoffset</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">distanceRemaining</span><span class="p">()</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">pixelsPerVerticalScroll</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Initializing</h2>

<p>The initialization will set most of the values:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">Scroller</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">svg</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">el</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">//Animation will end when the end is at which point of othe page. .9 is at about 90% down the page/</span>
</span><span class='line'>  <span class="c1">// .1 is 10% from the top of the page. Default is middle of the page.</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">animationBounds</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">animationBounds</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startPoint</span> <span class="o">||</span> <span class="p">.</span><span class="mi">5</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">animationBounds</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">endPoint</span> <span class="o">||</span> <span class="p">.</span><span class="mi">5</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">animationBounds</span><span class="p">.</span><span class="nx">containerBounds</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPagePosition</span><span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">end</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPagePosition</span><span class="p">(</span><span class="s1">&#39;bottom&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">svgLength</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">();</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">svg</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">strokeDasharray</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">svgLength</span><span class="p">;</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">animateLine</span><span class="p">();</span>
</span><span class='line'>  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">animateLine</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>From there, we can easily add as many as we want. All we need is an ID on the SVG</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">new</span> <span class="nx">Scroller</span><span class="p">({</span>
</span><span class='line'>  <span class="s1">&#39;el&#39;</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;mySvg&#39;</span><span class="p">),</span>
</span><span class='line'>  <span class="s1">&#39;startPoint&#39;</span><span class="o">:</span> <span class="nx">startPoint</span><span class="p">,</span>
</span><span class='line'>  <span class="s1">&#39;endPoint&#39;</span><span class="o">:</span> <span class="nx">endPoint</span>
</span><span class='line'><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>There were a few other ideas I played with. I considered adding a stop and start to a container element rather than the SVG itself.
This wouldn&rsquo;t be too hard, the only change would be to specify the startPoint and endPoint belong to a different element.
I also considered adding a pause point, but that required too many extra considerations that would depend on screen width and such.
For now, I left it simple and it worked out very well.</p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-09-03T16:49:04-05:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/javascript/'>javascript</a>

</div>


	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
<!---	<a class="addthis_counter addthis_pill_style"></a> --->
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2017

    Joe

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-84697313-1');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



</body>
</html>
